<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Layanan LVPD</title>
  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", sans-serif;
      background: linear-gradient(135deg,#1e3c72,#2a5298);
      background-size: 400% 400%;
      animation: gradientMove 15s ease infinite;
      color: #fff;
      min-height: 100vh;
    }
    @keyframes gradientMove {
      0% { background-position:0% 50% }
      50% { background-position:100% 50% }
      100% { background-position:0% 50% }
    }
    .center {
      display:flex; justify-content:center; align-items:center;
      height:100vh; text-align:center;
    }
    .card {
      background:rgba(0,0,0,0.75);
      padding:40px; border-radius:15px;
      width:320px; box-shadow:0 10px 25px rgba(0,0,0,0.6);
    }
    .card h1 {margin-bottom:20px;font-size:1.8rem;}
    input, textarea, button {
      width:100%; padding:10px;
      margin-top:8px; border:none; border-radius:6px;
    }
    button {
      background:#5865F2; color:white; font-weight:bold;
      cursor:pointer; transition:background 0.3s;
    }
    button:hover {background:#4752c4;}
    .dashboard { display:none; padding:20px;}
    .grid {
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
      gap:20px;
    }
    .formService .card {background:rgba(0,0,0,0.6);}
  </style>
</head>
<body>

  <!-- REGISTER / LOGIN -->
  <div id="registerPage" class="center">
    <div class="card">
      <h1>Daftar / Masuk LVPD</h1>
      <input type="text" id="username" placeholder="Nama Lengkap" required>
      <button id="registerBtn">Masuk</button>
    </div>
  </div>

  <!-- DASHBOARD -->
  <div id="dashboard" class="dashboard">
    <h1>Selamat datang, <span id="userName"></span>!</h1>
    <p>Pilih layanan kepolisian:</p>
    <div class="grid">
      <div class="card">
        <h2>Pengajuan SKCK</h2>
        <form class="formService">
          <input type="text" name="nama" placeholder="Nama Lengkap" required>
          <textarea name="keterangan" placeholder="Tujuan SKCK" required></textarea>
          <button type="submit">Kirim</button>
        </form>
      </div>
      <div class="card">
        <h2>Pembuatan SIM</h2>
        <form class="formService">
          <input type="text" name="nama" placeholder="Nama Lengkap" required>
          <textarea name="keterangan" placeholder="Jenis SIM (A, C, dll)" required></textarea>
          <button type="submit">Kirim</button>
        </form>
      </div>
      <div class="card">
        <h2>STNK / BPKB</h2>
        <form class="formService">
          <input type="text" name="nama" placeholder="Nama Lengkap" required>
          <textarea name="keterangan" placeholder="Jenis Pengurusan STNK/BPKB" required></textarea>
          <button type="submit">Kirim</button>
        </form>
      </div>
      <div class="card">
        <h2>Laporan Kehilangan</h2>
        <form class="formService">
          <input type="text" name="nama" placeholder="Nama Lengkap" required>
          <textarea name="keterangan" placeholder="Barang / Dokumen yang Hilang" required></textarea>
          <button type="submit">Kirim</button>
        </form>
      </div>
      <div class="card">
        <h2>Izin Keramaian</h2>
        <form class="formService">
          <input type="text" name="nama" placeholder="Nama Penanggung Jawab" required>
          <textarea name="keterangan" placeholder="Acara yang diselenggarakan" required></textarea>
          <button type="submit">Kirim</button>
        </form>
      </div>
      <div class="card">
        <h2>Laporan Kriminal</h2>
        <form class="formService">
          <input type="text" name="nama" placeholder="Nama Pelapor" required>
          <textarea name="keterangan" placeholder="Detail Laporan Kriminal" required></textarea>
          <button type="submit">Kirim</button>
        </form>
      </div>
    </div>
  </div>

  <script>
    // REGISTER / LOGIN sederhana
    const registerBtn = document.getElementById("registerBtn");
    const usernameInput = document.getElementById("username");

    registerBtn.addEventListener("click", ()=>{
      const username = usernameInput.value.trim();
      if(!username) { alert("Masukkan nama lengkap!"); return; }

      localStorage.setItem("lvpdUser", username); // simpan satu kali
      showDashboard(username);
    });

    // cek jika sudah login sebelumnya
    const savedUser = localStorage.getItem("lvpdUser");
    if(savedUser){
      showDashboard(savedUser);
    }

    function showDashboard(username){
      document.getElementById("userName").innerText = username;
      document.getElementById("registerPage").style.display = "none";
      document.getElementById("dashboard").style.display = "block";
    }

    // Kirim form ke Discord Webhook (opsional)
    const WEBHOOK_URL = "MASUKKAN_WEBHOOK_DISCORD_KAMU";
    document.querySelectorAll(".formService").forEach(form=>{
      form.addEventListener("submit", e=>{
        e.preventDefault();
        const data = new FormData(form);
        const payload = {
          content: `**Layanan ${form.parentElement.querySelector("h2").innerText}**
Nama: ${data.get("nama")}
Keterangan: ${data.get("keterangan")}`
        };
        if(WEBHOOK_URL !== "MASUKKAN_WEBHOOK_DISCORD_KAMU"){
          fetch(WEBHOOK_URL, {
            method:"POST",
            headers:{"Content-Type":"application/json"},
            body:JSON.stringify(payload)
          });
        }
        alert(`Layanan ${form.parentElement.querySelector("h2").innerText} berhasil dikirim!`);
        form.reset();
      });
    });
  </script>
</body>
</html>
